---
// Soluciones component
---

<section
  id="soluciones"
  class="py-20 bg-gradient-to-br from-slate-50 via-white to-blue-50 relative overflow-hidden"
>
  <div class="container mx-auto px-4">
    <!-- Título y subtítulo de la sección -->
    <div class="text-center md:mb-40">
      <h2
        class="soluciones-titulo font-stolzl text-3xl md:text-4xl md:text-5xl font-bold text-dark mb-6"
      >
        Ecosistema de Soluciones
      </h2>
      <p
        class="soluciones-subtitulo text-lg md:text-xl text-dark/70 max-w-3xl mx-auto leading-relaxed"
      >
        Conectamos todas las piezas de tu transformación digital donde creamos
        valor a través de soluciones integradas que potencian el crecimiento de
        tu organización
      </p>
    </div>
    <div class="ecosystem-wrapper relative w-full max-w-6xl mx-auto h-[700px]">
      <!-- Partículas de fondo -->
      <div
        class="bg-particle absolute w-1 h-1 bg-secondary/20 rounded-full"
        style="top: 10%; left: 15%;"
      >
      </div>
      <div
        class="bg-particle absolute w-1 h-1 bg-secondary/20 rounded-full"
        style="top: 20%; right: 20%;"
      >
      </div>
      <div
        class="bg-particle absolute w-1 h-1 bg-secondary/20 rounded-full"
        style="bottom: 30%; left: 25%;"
      >
      </div>
      <div
        class="bg-particle absolute w-1 h-1 bg-secondary/20 rounded-full"
        style="bottom: 15%; right: 30%;"
      >
      </div>

      <!-- SVG para líneas de conexión -->
      <svg
        class="hidden md:flex connection-svg absolute inset-0 w-full h-full pointer-events-none z-10"
        viewBox="0 0 800 600"
      >
        <defs>
          <linearGradient id="lineGradient" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" style="stop-color:#e2e8f0;stop-opacity:1"></stop>
            <stop offset="100%" style="stop-color:#062BED;stop-opacity:0.8"
            ></stop>
          </linearGradient>
        </defs>

        <!-- Líneas que llegan EXACTAMENTE a cada card - SIMÉTRICAS -->
        <!-- Seguridad -> Centro (arriba) -->
        <path
          class="connection-line line-1"
          d="M400 80 L400 250"
          stroke="#e2e8f0"
          stroke-width="2"
          fill="none"></path>

        <!-- Cloud -> Centro (arriba derecha) - 45 grados -->
        <path
          class="connection-line line-2"
          d="M520 140 L400 250"
          stroke="#e2e8f0"
          stroke-width="2"
          fill="none"></path>

        <!-- IA/ML -> Centro (abajo derecha) - 45 grados -->
        <path
          class="connection-line line-3"
          d="M520 360 L400 250"
          stroke="#e2e8f0"
          stroke-width="2"
          fill="none"></path>

        <!-- DevOps -> Centro (abajo) -->
        <path
          class="connection-line line-4"
          d="M400 480 L400 250"
          stroke="#e2e8f0"
          stroke-width="2"
          fill="none"></path>

        <!-- Data -> Centro (abajo izquierda) - 45 grados -->
        <path
          class="connection-line line-5"
          d="M280 360 L400 250"
          stroke="#e2e8f0"
          stroke-width="2"
          fill="none"></path>

        <!-- IoT -> Centro (arriba izquierda) - 45 grados -->
        <path
          class="connection-line line-6"
          d="M280 140 L400 250"
          stroke="#e2e8f0"
          stroke-width="2"
          fill="none"></path>

        <!-- Protección Avanzada -> Centro (derecha) -->
        <path
          class="connection-line line-7"
          d="M580 250 L400 250"
          stroke="#e2e8f0"
          stroke-width="2"
          fill="none"></path>

        <!-- Tecnologías Nueva Generación -> Centro (izquierda) -->
        <path
          class="connection-line line-8"
          d="M220 250 L400 250"
          stroke="#e2e8f0"
          stroke-width="2"
          fill="none"></path>

        <!-- Punto central (enchufe) -->
        <circle
          class="connection-dot center-dot"
          cx="400"
          cy="250"
          r="6"
          fill="#062BED"></circle>

        <!-- Puntos de conexión -->
        <circle
          class="connection-dot dot-1"
          cx="400"
          cy="80"
          r="4"
          fill="#e2e8f0"></circle>
        <circle
          class="connection-dot dot-2"
          cx="580"
          cy="140"
          r="4"
          fill="#e2e8f0"></circle>
        <circle
          class="connection-dot dot-3"
          cx="580"
          cy="360"
          r="4"
          fill="#e2e8f0"></circle>
        <circle
          class="connection-dot dot-4"
          cx="400"
          cy="480"
          r="4"
          fill="#e2e8f0"></circle>
        <circle
          class="connection-dot dot-5"
          cx="220"
          cy="360"
          r="4"
          fill="#e2e8f0"></circle>
        <circle
          class="connection-dot dot-6"
          cx="220"
          cy="140"
          r="4"
          fill="#e2e8f0"></circle>
        <circle
          class="connection-dot dot-7"
          cx="580"
          cy="190"
          r="4"
          fill="#e2e8f0"></circle>
        <circle
          class="connection-dot dot-8"
          cx="220"
          cy="190"
          r="4"
          fill="#e2e8f0"></circle>
      </svg>

      <!-- Card central con logo - Diseño profesional -->
      <div
        class="center-card absolute md:top-[42%] md:left-[50%] top-[50%] left-[50%] w-32 h-32 md:w-48 md:h-48 bg-[#050835]/90 backdrop-blur-md rounded-full flex items-center justify-center z-20 shadow-lg border border-white/30"
        style="transform: translate(-50%, -50%);"
      >
        <div class="text-center">
          <!-- Logo Imperia -->
          <img
            src="/images/logo-hero.png"
            alt="Imperia"
            class="w-16 h-8 md:w-32 md:h-16 mx-auto object-contain"
          />
        </div>
      </div>

      <!-- Tarjetas de soluciones - Mejor alineamiento del texto -->
      <!-- 1. Seguridad (arriba centro) -->
      <div
        class="solution-card card-1"
        data-connection="1"
      >
        <div class="flex flex-col items-center text-center px-4">
          <div
            class="w-12 h-12 bg-gradient-to-br from-emerald-500 to-emerald-600 rounded-full flex items-center justify-center mb-2 shadow-lg"
          >
            <svg
              class="w-6 h-6 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"
              ></path>
            </svg>
          </div>
          <h4 class="font-bold text-dark text-sm leading-tight">
            Protección de la Experiencia Digital
          </h4>
        </div>
      </div>

      <!-- 2. Cloud (arriba derecha) -->
      <div
        class="solution-card card-2"
        data-connection="2"
      >
        <div class="flex flex-col items-center text-center px-4">
          <div
            class="w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center mb-2 shadow-lg"
          >
            <svg
              class="w-6 h-6 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"
              ></path>
            </svg>
          </div>
          <h4 class="font-bold text-dark text-sm leading-tight">Conectividad Avanzada</h4>
        </div>
      </div>

      <!-- 3. IA/ML (abajo derecha) -->
      <div
        class="solution-card card-3"
        data-connection="3"
      >
        <div class="flex flex-col items-center text-center px-4">
          <div
            class="w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-full flex items-center justify-center mb-2 shadow-lg"
          >
            <svg
              class="w-6 h-6 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"
              ></path>
            </svg>
          </div>
          <h4 class="font-bold text-dark text-sm leading-tight">
            Cloud & Plataformas Digitales
          </h4>
        </div>
      </div>

      <!-- 4. DevOps (abajo centro) -->
      <div
        class="solution-card card-4"
        data-connection="4"
      >
        <div class="flex flex-col items-center text-center px-4">
          <div
            class="w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-full flex items-center justify-center mb-2 shadow-lg"
          >
            <svg
              class="w-6 h-6 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path>
            </svg>
          </div>
          <h4 class="font-bold text-dark text-sm leading-tight">Data Center</h4>
        </div>
      </div>

      <!-- 5. Data (abajo izquierda) -->
      <div
        class="solution-card card-5"
        data-connection="5"
      >
        <div class="flex flex-col items-center text-center px-4">
          <div
            class="w-12 h-12 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-full flex items-center justify-center mb-2 shadow-lg"
          >
            <svg
              class="w-6 h-6 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"
              ></path>
            </svg>
          </div>
          <h4 class="font-bold text-dark text-sm leading-tight">
            Gobierno, Riesgo y Cumplimiento
          </h4>
        </div>
      </div>

      <!-- 6. IoT (arriba izquierda) -->
      <div
        class="solution-card card-6"
        data-connection="6"
      >
        <div class="flex flex-col items-center text-center px-4">
          <div
            class="w-12 h-12 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-full flex items-center justify-center mb-2 shadow-lg"
          >
            <svg
              class="w-6 h-6 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"
              ></path>
            </svg>
          </div>
          <h4 class="font-bold text-dark text-sm leading-tight">
            Confianza Digital y Protección de Identidades
          </h4>
        </div>
      </div>

      <!-- 7. Protección Avanzada Contra Amenazas (nueva posición) -->
      <div
        class="solution-card card-7"
        data-connection="7"
      >
        <div class="flex flex-col items-center text-center px-4">
          <div
            class="w-12 h-12 bg-gradient-to-br from-red-500 to-red-600 rounded-full flex items-center justify-center mb-2 shadow-lg"
          >
            <svg
              class="w-6 h-6 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"
              ></path>
            </svg>
          </div>
          <h4 class="font-bold text-dark text-sm leading-tight">
            Protección Avanzada Contra Amenazas
          </h4>
        </div>
      </div>

      <!-- 8. Tecnologías de Nueva Generación (nueva posición) -->
      <div
        class="solution-card card-8"
        data-connection="8"
      >
        <div class="flex flex-col items-center text-center px-4">
          <div
            class="w-12 h-12 bg-gradient-to-br from-teal-500 to-teal-600 rounded-full flex items-center justify-center mb-2 shadow-lg"
          >
            <svg
              class="w-6 h-6 text-white"
              fill="none"
              stroke="currentColor"
              viewBox="0 0 24 24"
            >
              <path
                stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M13 10V3L4 14h7v7l9-11h-7z"></path>
            </svg>
          </div>
          <h4 class="font-bold text-dark text-sm leading-tight">
            Tecnologías de Nueva Generación
          </h4>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // 🌐 ECOSISTEMA DE SOLUCIONES CON ANIMACIONES DE ENTRADA
  document.addEventListener("DOMContentLoaded", function () {
    console.log("🌐 Ecosistema de Soluciones iniciado");

    // Animaciones de entrada para título y subtítulo
    if (typeof window.gsap !== "undefined" && (window as any).gsapReady) {
      // Animación del título
      window.gsap.fromTo(
        ".soluciones-titulo",
        {
          opacity: 0,
          y: 50,
          scale: 0.9,
        },
        {
          opacity: 1,
          y: 0,
          scale: 1,
          duration: 1,
          ease: "power3.out",
          scrollTrigger: {
            trigger: ".soluciones-titulo",
            start: "top 85%",
            end: "bottom 15%",
            toggleActions: "play none none reverse",
            once: true,
          },
        }
      );

      // Animación del subtítulo
      window.gsap.fromTo(
        ".soluciones-subtitulo",
        {
          opacity: 0,
          y: 30,
        },
        {
          opacity: 1,
          y: 0,
          duration: 0.8,
          ease: "power2.out",
          scrollTrigger: {
            trigger: ".soluciones-subtitulo",
            start: "top 85%",
            end: "bottom 15%",
            toggleActions: "play none none reverse",
            once: true,
          },
        }
      );
    }

    // Elementos para animación
    const cards = document.querySelectorAll(
      ".solution-card"
    ) as NodeListOf<HTMLElement>;
    const connectionLines = document.querySelectorAll(
      ".connection-line"
    ) as NodeListOf<SVGPathElement>;
    const connectionDots = document.querySelectorAll(
      ".connection-dot"
    ) as NodeListOf<SVGCircleElement>;
    const particles = document.querySelectorAll(
      ".bg-particle"
    ) as NodeListOf<HTMLElement>;
    const centerCard = document.querySelector(".center-card") as HTMLElement;
    const section = document.getElementById("soluciones");

    // Estado de animación
    let animationsActivated = false;

    // Función para verificar si elemento está en viewport - Mejorada para mobile
    function isInViewport(element) {
      const rect = element.getBoundingClientRect();
      const windowHeight =
        window.innerHeight || document.documentElement.clientHeight;
      // Ajuste para mobile: usar un threshold más conservador
      const threshold = window.innerWidth <= 768 ? 0.9 : 0.8;
      return rect.top < windowHeight * threshold && rect.bottom > 0;
    }

    // Función para activar animaciones de entrada
    function activateEntryAnimations() {
      if (animationsActivated) return;

      console.log("🎯 ¡SECCIÓN SOLUCIONES DETECTADA! Activando ecosistema...");
      animationsActivated = true;

      // Animación del círculo central
      centerCard.style.opacity = "0";
      centerCard.style.transform = "translate(-50%, -50%) scale(0.5)";

      setTimeout(() => {
        centerCard.style.transition =
          "all 1s cubic-bezier(0.175, 0.885, 0.32, 1.275)";
        centerCard.style.opacity = "1";
        centerCard.style.transform = "translate(-50%, -50%) scale(1)";
      }, 100);

      // Animación de las cards con stagger elegante
      cards.forEach((card, index) => {
        card.style.opacity = "0";
        card.style.transform = "scale(0.8) translateY(30px) rotate(10deg)";

        setTimeout(
          () => {
            card.style.transition =
              "all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275)";
            card.style.opacity = "1";
            card.style.transform = "scale(1) translateY(0) rotate(0deg)";
            console.log(`✅ Card ${index + 1} animada`);
          },
          300 + index * 200
        );
      });

      // Animación de las líneas con efecto avanzado
      setTimeout(() => {
        connectionLines.forEach((line, index) => {
          line.style.opacity = "0";
          line.style.strokeDasharray = "500";
          line.style.strokeDashoffset = "500";

          setTimeout(
            () => {
              line.style.transition =
                "all 1.5s cubic-bezier(0.25, 0.46, 0.45, 0.94)";
              line.style.opacity = "1";
              line.style.strokeDashoffset = "0";
              line.classList.add("visible");
              console.log(`✨ Línea ${index + 1} con animación avanzada`);
            },
            800 + index * 150
          );
        });
      }, 600);

      // Animación de los puntos de conexión
      setTimeout(() => {
        connectionDots.forEach((dot, index) => {
          dot.style.opacity = "0";
          dot.style.transform = "scale(0)";

          setTimeout(
            () => {
              dot.style.transition =
                "all 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55)";
              dot.style.opacity = "1";
              dot.style.transform = "scale(1)";
              dot.classList.add("visible");
              console.log(`🔗 Punto ${index + 1} conectado`);
            },
            1000 + index * 100
          );
        });
      }, 800);

      // Animación de las partículas
      particles.forEach((particle, index) => {
        particle.style.opacity = "0";
        particle.style.transform = "scale(0)";

        setTimeout(
          () => {
            particle.style.transition = "all 0.8s ease-out";
            particle.style.opacity = "1";
            particle.style.transform = "scale(1)";
          },
          1200 + index * 100
        );
      });
    }

    // Verificar al hacer scroll
    function checkScroll() {
      if (section && isInViewport(section)) {
        activateEntryAnimations();
      }
    }

    // Event listeners
    window.addEventListener("scroll", checkScroll);

    // Verificar al cargar la página
    if (section && isInViewport(section)) {
      activateEntryAnimations();
    }

    // Fallback CSS para título y subtítulo
    function checkAndAnimateTitles() {
      const titulo = document.querySelector(".soluciones-titulo");
      const subtitulo = document.querySelector(".soluciones-subtitulo");

      if (titulo && subtitulo && !titulo.classList.contains("animate")) {
        if (isInViewport(titulo)) {
          setTimeout(() => {
            titulo.classList.add("animate");
          }, 100);

          setTimeout(() => {
            subtitulo.classList.add("animate");
          }, 300);
        }
      }
    }

    // Verificar títulos al hacer scroll
    window.addEventListener("scroll", checkAndAnimateTitles);
    checkAndAnimateTitles();

    // Efectos hover con GSAP (si está disponible)
    if (typeof window.gsap !== "undefined") {
      // Efectos hover para las tarjetas
      cards.forEach((card, index) => {
        const connectionIndex = index + 1;

        card.addEventListener("mouseenter", () => {
          // Escalar tarjeta
          window.gsap.to(card, {
            scale: 1.08,
            duration: 0.4,
            ease: "power2.out",
          });

          // Efecto de electricidad en la línea de esta card
          window.gsap.to(`.line-${connectionIndex}`, {
            stroke: "#062BED",
            strokeWidth: 4,
            duration: 0.3,
          });

          // Efecto en el punto de conexión
          window.gsap.to(`.dot-${connectionIndex}`, {
            fill: "#062BED",
            r: 8,
            duration: 0.3,
          });
        });

        card.addEventListener("mouseleave", () => {
          // Restaurar tarjeta
          window.gsap.to(card, {
            scale: 1,
            duration: 0.4,
            ease: "power2.out",
          });

          // Restaurar la línea de esta card
          window.gsap.to(`.line-${connectionIndex}`, {
            stroke: "#e2e8f0",
            strokeWidth: 2,
            duration: 0.3,
          });

          // Restaurar punto
          window.gsap.to(`.dot-${connectionIndex}`, {
            fill: "#e2e8f0",
            r: 4,
            duration: 0.3,
          });
        });
      });
    }

    console.log(
      "🎉 Ecosistema de Soluciones configurado - Animaciones de entrada listas"
    );
  });
</script>

<style>
  /* 🌐 ECOSISTEMA DE SOLUCIONES - ESTILOS ELEGANTES Y ANIMACIONES */

  /* Estado inicial para animaciones de entrada */
  .soluciones-titulo {
    opacity: 0;
    transform: translateY(50px) scale(0.9);
  }

  .soluciones-subtitulo {
    opacity: 0;
    transform: translateY(30px);
  }

  /* Animaciones CSS fallback */
  .soluciones-titulo.animate {
    opacity: 1;
    transform: translateY(0) scale(1);
    transition: all 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  .soluciones-subtitulo.animate {
    opacity: 1;
    transform: translateY(0);
    transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  /* Estado inicial para animaciones de entrada */
  .solution-card {
    opacity: 0;
    transform: scale(0.8) translateY(30px) rotate(10deg);
  }

  .connection-line {
    opacity: 0;
    stroke-dasharray: 500;
    stroke-dashoffset: 500;
  }

  .connection-dot {
    opacity: 0;
    transform: scale(0);
  }

  .bg-particle {
    opacity: 0;
    transform: scale(0);
  }

  /* Animación avanzada de las líneas con múltiples efectos */
  .connection-line.visible {
    animation: advancedFlow 6s ease-in-out infinite;
    filter: drop-shadow(0 0 1px rgba(156, 163, 175, 0.2));
    transition: all 0.3s ease;
  }

  /* Efecto de flujo avanzado con múltiples estados */
  @keyframes advancedFlow {
    0% {
      stroke: #d1d5db;
      stroke-width: 1.5;
      opacity: 0.6;
      stroke-dasharray: 5, 5;
      filter: drop-shadow(0 0 1px rgba(156, 163, 175, 0.2));
    }
    15% {
      stroke: #9ca3af;
      stroke-width: 2.5;
      opacity: 1;
      stroke-dasharray: 8, 2;
      filter: drop-shadow(0 0 2px rgba(156, 163, 175, 0.4));
    }
    30% {
      stroke: #6b7280;
      stroke-width: 2;
      opacity: 0.9;
      stroke-dasharray: 3, 7;
      filter: drop-shadow(0 0 1px rgba(156, 163, 175, 0.3));
    }
    45% {
      stroke: #9ca3af;
      stroke-width: 2.5;
      opacity: 1;
      stroke-dasharray: 6, 4;
      filter: drop-shadow(0 0 2px rgba(156, 163, 175, 0.4));
    }
    60% {
      stroke: #d1d5db;
      stroke-width: 1.5;
      opacity: 0.8;
      stroke-dasharray: 4, 6;
      filter: drop-shadow(0 0 1px rgba(156, 163, 175, 0.2));
    }
    75% {
      stroke: #9ca3af;
      stroke-width: 2;
      opacity: 0.9;
      stroke-dasharray: 7, 3;
      filter: drop-shadow(0 0 1px rgba(156, 163, 175, 0.3));
    }
    100% {
      stroke: #d1d5db;
      stroke-width: 1.5;
      opacity: 0.6;
      stroke-dasharray: 5, 5;
      filter: drop-shadow(0 0 1px rgba(156, 163, 175, 0.2));
    }
  }

  /* Variaciones de timing para cada línea */
  .line-1.visible {
    animation-delay: 0s;
  }
  .line-2.visible {
    animation-delay: -1s;
  }
  .line-3.visible {
    animation-delay: -2s;
  }
  .line-4.visible {
    animation-delay: -3s;
  }
  .line-5.visible {
    animation-delay: -4s;
  }
  .line-6.visible {
    animation-delay: -5s;
  }

  /* Efecto de ondulación adicional para líneas horizontales */
  .line-1.visible,
  .line-4.visible {
    animation:
      advancedFlow 6s ease-in-out infinite,
      waveEffect 8s ease-in-out infinite;
  }

  /* Efecto de ondulación para líneas diagonales */
  .line-2.visible,
  .line-3.visible,
  .line-5.visible,
  .line-6.visible {
    animation:
      advancedFlow 6s ease-in-out infinite,
      diagonalWave 7s ease-in-out infinite;
  }

  /* Efecto de onda horizontal */
  @keyframes waveEffect {
    0%,
    100% {
      transform: translateY(0px);
    }
    25% {
      transform: translateY(-1px);
    }
    75% {
      transform: translateY(1px);
    }
  }

  /* Efecto de onda diagonal */
  @keyframes diagonalWave {
    0%,
    100% {
      transform: translateX(0px) translateY(0px);
    }
    25% {
      transform: translateX(-1px) translateY(-1px);
    }
    75% {
      transform: translateX(1px) translateY(1px);
    }
  }

  /* Efecto de energía que fluye a través de las líneas */
  .connection-line.visible::before {
    content: "";
    position: absolute;
    width: 100%;
    height: 100%;
    background: linear-gradient(
      90deg,
      transparent,
      rgba(156, 163, 175, 0.1),
      transparent
    );
    animation: energyFlow 4s linear infinite;
    pointer-events: none;
  }

  @keyframes energyFlow {
    0% {
      transform: translateX(-100%);
    }
    100% {
      transform: translateX(100%);
    }
  }

  /* Efecto de brillo sutil en hover */
  .connection-line.visible:hover {
    filter: drop-shadow(0 0 3px rgba(156, 163, 175, 0.6));
    transition: filter 0.3s ease;
  }

  /* Efecto de pulso y brillo para puntos de conexión */
  .connection-dot.visible {
    animation: pulseGlow 2s ease-in-out infinite;
  }

  @keyframes pulseGlow {
    0% {
      transform: scale(1);
      filter: drop-shadow(0 0 2px rgba(6, 43, 237, 0.3));
    }
    50% {
      transform: scale(1.2);
      filter: drop-shadow(0 0 6px rgba(6, 43, 237, 0.6));
    }
    100% {
      transform: scale(1);
      filter: drop-shadow(0 0 2px rgba(6, 43, 237, 0.3));
    }
  }

  /* Animación constante de las partículas */
  .bg-particle {
    animation: floatParticle 8s ease-in-out infinite;
  }

  @keyframes floatParticle {
    0%,
    100% {
      transform: translateY(0) translateX(0);
      opacity: 0.3;
    }
    25% {
      transform: translateY(-15px) translateX(10px);
      opacity: 0.6;
    }
    50% {
      transform: translateY(-5px) translateX(-5px);
      opacity: 0.4;
    }
    75% {
      transform: translateY(10px) translateX(15px);
      opacity: 0.7;
    }
  }

  /* Efectos hover mejorados - Colores de marca */
  .solution-card:hover {
    transform: translateY(-6px) scale(1.03);
    background: rgba(255, 255, 255, 0.95);
    border-color: rgba(59, 130, 246, 0.5);
    box-shadow: 0 20px 40px rgba(59, 130, 246, 0.2);
  }
  

  /* Card central con logo - Diseño profesional */
  .center-card {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .center-card:hover {
    transform: translate(-50%, -50%) scale(1.05);
    background: #050835;
  }

  /* Mejoras en las cards de soluciones - Efectos de marca */
  .solution-card {
    position: absolute;
    width: 12rem;
    height: 12rem;
    background: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(8px);
    border-radius: 50%;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 30;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .solution-card:hover {
    background: rgba(255, 255, 255, 0.95);
    transform: translateY(-6px) scale(1.03);
    border-color: rgba(59, 130, 246, 0.5);
    box-shadow: 0 20px 40px rgba(59, 130, 246, 0.2);
  }

  /* CARD 1: Protección de la Experiencia Digital (arriba centro) */
  .card-1 {
    top: -4.5rem;
    left: 41.5%;
    transform: translateX(-50%);
    z-index: 40;
  }

  /* CARD 2: Conectividad Avanzada (arriba derecha) */
  .card-2 {
    top: 1rem;
    right: 18rem;
  }

  /* CARD 3: Cloud & Plataformas Digitales (abajo derecha) */
  .card-3 {
    bottom: 8.5rem;
    right: 18rem;
  }

  /* CARD 4: Data Center (abajo centro) */
  .card-4 {
    bottom: 3rem;
    left: 41.5%;
    transform: translateX(-50%);
    z-index: 40;
  }

  /* CARD 5: Gobierno, Riesgo y Cumplimiento (abajo izquierda) */
  .card-5 {
    bottom: 8.5rem;
    left: 18rem;
  }

  /* CARD 6: Confianza Digital y Protección de Identidades (arriba izquierda) */
  .card-6 {
    top: 1rem;
    left: 18rem;
  }

  /* CARD 7: Protección Avanzada Contra Amenazas (derecha centro) */
  .card-7 {
    top: 12rem;
    right: 11rem;
  }

  /* CARD 8: Tecnologías de Nueva Generación (izquierda centro) */
  .card-8 {
    top: 12rem;
    left: 11rem;
  }

  /* Responsive mejorado */
  @media (max-width: 768px) {
    .ecosystem-wrapper {
      height: 750px !important;
    }

    .solution-card {
      width: 160px !important;
      height: 160px !important;
      padding: 0.75rem !important;
    }

    .solution-card .flex {
      margin-bottom: 0.5rem !important;
    }

    .solution-card .w-12 {
      width: 2rem !important;
      height: 2rem !important;
      margin-bottom: 0.5rem !important;
    }

    .solution-card h4 {
      font-size: 0.8rem !important;
      line-height: 1.2 !important;
    }

    .card-1 {
      top: 40px !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
    }
    .card-2 {
      top: 120px !important;
      right: 20px !important;
    }
    .card-3 {
      bottom: 120px !important;
      right: 20px !important;
    }
    .card-4 {
      bottom: 40px !important;
      left: 50% !important;
      transform: translateX(-50%) !important;
    }
    .card-5 {
      bottom: 120px !important;
      left: 20px !important;
    }
    .card-6 {
      top: 120px !important;
      left: 20px !important;
    }
  }

  @media (max-width: 480px) {
    .ecosystem-wrapper {
      height: 650px !important;
    }

    .solution-card {
      width: 140px !important;
      height: 140px !important;
      padding: 0.5rem !important;
    }

    .solution-card .w-12 {
      width: 1.75rem !important;
      height: 1.75rem !important;
      margin-bottom: 0.25rem !important;
    }

    .solution-card h4 {
      font-size: 0.7rem !important;
      line-height: 1.1 !important;
    }
  }
</style>

---
// Footer component
import DocumentModal from './DocumentModal.astro';

// Datos de los documentos por categoría
const documentCategories = {
  'sistemas-integrados': {
    title: 'Sistemas Integrados de Gestión',
    documents: [
      {
        name: 'Política Antisoborno',
        path: 'sistemas-integrados/POLÍTICA ANTISOBORNO.pdf',
        description: 'Política para prevenir y combatir el soborno y la corrupción'
      },
      {
        name: 'Política de Calidad',
        path: 'sistemas-integrados/POLÍTICA DE CALIDAD.pdf',
        description: 'Compromiso con la excelencia y mejora continua en nuestros procesos'
      },
      {
        name: 'Política de SGSI',
        path: 'sistemas-integrados/POLÍTICA DE SGSI.pdf',
        description: 'Sistema de Gestión de Seguridad de la Información'
      },
      {
        name: 'Política del SIG',
        path: 'sistemas-integrados/POLÍTICA DEL SIG.pdf',
        description: 'Sistema Integrado de Gestión - Marco general'
      }
    ]
  },
  'sst': {
    title: 'Seguridad y Salud en el Trabajo (SST)',
    documents: [
      {
        name: 'Política de SST',
        path: 'sst/POLÍTICA DE SST.pdf',
        description: 'Compromiso con la seguridad y salud de nuestros colaboradores'
      },
      {
        name: 'Reglamento Interno de SST',
        path: 'sst/REGLAMENTO INTERNO DE SST.pdf',
        description: 'Normas y procedimientos internos de seguridad y salud'
      }
    ]
  },
  'privacidad': {
    title: 'Privacidad y Datos Personales',
    documents: [
      {
        name: 'Política de Privacidad y Datos Personales',
        path: 'privacidad/POLÍTICA DE PRIVACIDAD Y DATOS PERSONALES.pdf',
        description: 'Protección y tratamiento responsable de datos personales'
      }
    ]
  },
  'derechos-humanos': {
    title: 'Derechos Humanos',
    documents: [
      {
        name: 'Política de Derechos Humanos',
        path: 'derechos-humanos/POLÍTICA DE DERECHOS HUMANOS.pdf',
        description: 'Compromiso con el respeto y promoción de los derechos humanos'
      }
    ]
  }
};
---

<footer class="bg-dark text-white py-16">
  <div class="container mx-auto px-4">
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      
      <!-- Logo y descripción -->
      <div class="col-span-1 lg:col-span-2">
        <div class="flex justify-center md:justify-start"><img src="/images/logo-hero.png" alt="LandingAstro" class="h-12 mb-4"></div>
        <p class="text-white/70 mb-6 leading-relaxed xl:ml-4 text-center md:text-left max-w-[600px] mx-auto md:mx-0">
          Somos una empresa líder en soluciones tecnológicas innovadoras, 
          comprometida con la excelencia y el crecimiento sostenible de nuestros clientes.
        </p>
        <div class="flex md:space-x-4 xl:ml-4 justify-center md:justify-start w-[150px] mx-auto md:w-auto">
         
          <!-- LinkedIn -->
          <a href="https://www.linkedin.com/company/imperia-soluciones-tecnol%C3%B3gicas/" target="_blank" class="social-link w-10 h-10 bg-white/10 rounded-full flex items-center justify-center hover:bg-secondary transition-all duration-300">
            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
              <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
            </svg>
          </a>
        </div>
      </div>
      
      <!-- Contenedor para móvil: Enlaces rápidos y Políticas en dos columnas -->
      <div class="md:hidden grid grid-cols-2 gap-6">
        <!-- Enlaces rápidos -->
        <div>
          <h4 class="text-sm font-semibold mb-4">Enlaces rápidos</h4>
          <ul class="space-y-2">
            <li>
              <a href="#identidad" class="text-white/70 hover:text-white transition-colors duration-300 text-sm">Identidad</a>
            </li>
            <li>
              <a href="#servicios" class="text-white/70 hover:text-white transition-colors duration-300 text-sm">Servicios</a>
            </li>
            <li>
              <a href="#soluciones-mobile" class="text-white/70 hover:text-white transition-colors duration-300 text-sm">Soluciones</a>
            </li>
            <li>
              <a href="#alianzas" class="text-white/70 hover:text-white transition-colors duration-300 text-sm">Alianzas</a>
            </li>
            <li>
              <a href="#equipo" class="text-white/70 hover:text-white transition-colors duration-300 text-sm">Equipo</a>
            </li>
            <li>
              <a href="#contacto" class="text-white/70 hover:text-white transition-colors duration-300 text-sm">Contacto</a>
            </li>
          </ul>
        </div>
        
        <!-- Políticas y Sistemas -->
        <div>
          <h4 class="text-sm font-semibold mb-4">Políticas y Sistemas</h4>
          <ul class="space-y-2">
            <li>
              <a href="#" class="text-white/70 hover:text-white transition-colors duration-300 text-xs" data-modal="sistemas-integrados">Sistemas integrados de gestión</a>
            </li>
            <li>
              <a href="#" class="text-white/70 hover:text-white transition-colors duration-300 text-xs" data-modal="sst">SST</a>
            </li>
            <li>
              <a href="#" class="text-white/70 hover:text-white transition-colors duration-300 text-xs" data-modal="privacidad">Privacidad y datos personales</a>
            </li>
            <li>
              <a href="/denuncias" class="text-white/70 hover:text-white transition-colors duration-300 text-xs">Canal de Denuncias</a>
            </li>
            <li>
              <a href="#" class="text-white/70 hover:text-white transition-colors duration-300 text-xs" data-modal="derechos-humanos">Derechos Humanos</a>
            </li>
          </ul>
        </div>
      </div>
      
      <!-- Versión desktop: Enlaces rápidos -->
      <div class="hidden md:block">
        <h4 class="text-lg font-semibold mb-6">Enlaces rápidos</h4>
        <ul class="md:space-y-2">
          <li>
            <a href="#identidad" class="text-white/70 hover:text-white transition-colors duration-300">Identidad</a>
          </li>
          <li>
            <a href="#servicios" class="text-white/70 hover:text-white transition-colors duration-300">Servicios</a>
          </li>
          <li>
            <a href="#soluciones" class="text-white/70 hover:text-white transition-colors duration-300">Soluciones</a>
          </li>
          <li>
            <a href="#alianzas" class="text-white/70 hover:text-white transition-colors duration-300">Alianzas</a>
          </li>
          <li>
            <a href="#equipo" class="text-white/70 hover:text-white transition-colors duration-300">Equipo</a>
          </li>
          <li>
            <a href="#contacto" class="text-white/70 hover:text-white transition-colors duration-300">Contacto</a>
          </li>
        </ul>
      </div>
      
      <!-- Versión desktop: Políticas y Sistemas -->
      <div class="hidden md:block">
        <h4 class="text-lg font-semibold mb-6">Políticas y Sistemas</h4>
        <ul class="space-y-3">
          <li>
            <a href="#" class="text-white/70 hover:text-white transition-colors duration-300" data-modal="sistemas-integrados">Sistemas integrados de gestión</a>
          </li>
          <li>
            <a href="#" class="text-white/70 hover:text-white transition-colors duration-300" data-modal="sst">SST</a>
          </li>
          <li>
            <a href="#" class="text-white/70 hover:text-white transition-colors duration-300" data-modal="privacidad">Privacidad y datos personales</a>
          </li>
          <li>
            <a href="/denuncias" class="text-white/70 hover:text-white transition-colors duration-300">Canal de Denuncias</a>
          </li>
          <li>
            <a href="#" class="text-white/70 hover:text-white transition-colors duration-300" data-modal="derechos-humanos">Derechos Humanos</a>
          </li>
        </ul>
      </div>
      
    </div>
    
    <!-- Línea divisoria -->
    <div class="border-t border-white/20 mt-12 pt-8">
      <div class="flex flex-col md:flex-row justify-between items-center">
        <p class="text-white/70 text-sm">
          © 2025 Imperia. Todos los derechos reservados.
        </p>
        <div class="flex flex-col md:flex-row md:space-x-6 mt-4 md:mt-0">
          <a href="#" class="text-white/70 hover:text-white text-sm transition-colors duration-300">
            Política de Privacidad
          </a>
          <a href="#" class="text-white/70 hover:text-white text-sm transition-colors duration-300">
            Términos de Servicio
          </a>
          <a href="#" class="text-white/70 hover:text-white text-sm transition-colors duration-300">
            Cookies
          </a>
        </div>
      </div>
    </div>
  </div>
</footer>

<!-- Modales de documentos -->
{Object.entries(documentCategories).map(([id, category]) => (
  <DocumentModal 
    id={id} 
    title={category.title} 
    documents={category.documents} 
  />
))}

<style>
  .social-link {
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.1);
  }
  
  .social-link:hover {
    border-color: rgba(6, 43, 237, 0.5);
    transform: translateY(-2px);
  }
  
  footer a {
    transition: all 0.3s ease;
  }
  
  footer a:hover {
    transform: translateX(5px);
  }
  
  @media (max-width: 768px) {
    footer {
      text-align: center;
    }
    
    .social-link {
      margin: 0 auto;
    }
  }
</style>

<script>
  // Script para manejar los clicks en los enlaces de políticas
  document.addEventListener('DOMContentLoaded', function() {
    // Agregar event listeners a todos los enlaces con data-modal
    const modalLinks = document.querySelectorAll('a[data-modal]');
    
    modalLinks.forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const modalType = this.getAttribute('data-modal');
        
        // Usar la API nativa del dialog directamente
        const dialog = document.getElementById(`modal-${modalType}`) as HTMLDialogElement;
        if (dialog) {
          dialog.showModal();
        }
      });
    });
  });
</script>
